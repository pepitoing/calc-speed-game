<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Calc Speed Challenge</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-slate-950 to-slate-900 text-slate-100 min-h-screen font-inter flex flex-col">

<!-- ================= HEADER ================= -->
<header class="bg-slate-950 border-b border-slate-800 px-4 py-3">
  <div class="flex justify-between items-center">
    <div class="font-semibold text-lg">Calc Speed Challenge</div>

    <!-- Analytics in Navbar -->
    <nav class="hidden md:flex gap-6 text-sm text-slate-300">
      <div>Strong: <span id="strong-topic" class="text-emerald-400">‚Äî</span></div>
      <div>Weak: <span id="weak-topic" class="text-rose-400">‚Äî</span></div>
      <div>Avg: <span id="avg-time" class="text-indigo-400">‚Äî</span>s</div>
    </nav>

    <button onclick="goDashboard()" class="text-sm text-slate-400 hover:text-white">
      Dashboard
    </button>
  </div>

  <!-- Republic Day Banner -->
  <div id="republic-banner"
       class="mt-3 rounded-lg p-3 text-center bg-gradient-to-r from-orange-500 via-white to-green-600 text-slate-900">
    <p class="text-xs uppercase tracking-widest font-semibold">
      Republic Day Special üáÆüá≥
    </p>
    <p class="text-sm font-medium">
      ‚ÄúStrong minds build a strong nation. Train your speed. Sharpen your logic.‚Äù
    </p>
  </div>
</header>

<!-- ================= MAIN ================= -->
<main class="flex-1 flex items-center justify-center px-3">

<!-- USERNAME -->
<section id="username-screen" class="hidden w-full max-w-sm text-center">
  <h1 class="text-2xl font-bold mb-2">Welcome Aspirant</h1>
  <input id="username-input"
    class="w-full p-3 rounded-lg text-black text-center"
    placeholder="Enter your name"
    onkeydown="if(event.key==='Enter') saveUsername()" />
  <button onclick="saveUsername()"
    class="mt-4 w-full bg-indigo-500 py-3 rounded-lg">
    Start Practice
  </button>
</section>

<!-- DASHBOARD -->
<section id="dashboard" class="hidden w-full max-w-md text-center space-y-6">
  <div>
    <h2 id="welcome-text" class="text-xl font-semibold"></h2>
    <p class="text-slate-400">
      Total Points:
      <span id="total-points" class="font-bold text-white"></span>
    </p>
  </div>

  <div class="space-y-3">
    <button onclick="showTopicSelector()" class="w-full bg-indigo-500 py-3 rounded-lg">
      Practice Mode
    </button>
    <button onclick="startDailyQuiz()" class="w-full bg-amber-400 text-black py-3 rounded-lg">
      Daily Quiz
    </button>
    <button onclick="startMockExam()" class="w-full bg-slate-700 py-3 rounded-lg">
      Mock Exam
    </button>
    <button onclick="showLeaderboard()" class="w-full bg-slate-800 py-3 rounded-lg">
      Leaderboard
    </button>
  </div>
</section>

<!-- TOPIC SELECTOR -->
<section id="topic-selector" class="hidden w-full max-w-md text-center space-y-4">
  <h2 class="text-lg font-semibold">Select Topic</h2>
  <div class="grid grid-cols-3 gap-3">
    <button class="topic-btn" onclick="selectTopic('add')">Add</button>
    <button class="topic-btn" onclick="selectTopic('sub')">Sub</button>
    <button class="topic-btn" onclick="selectTopic('mul')">Mul</button>
    <button class="topic-btn" onclick="selectTopic('div')">Div</button>
    <button class="topic-btn" onclick="selectTopic('square')">Square</button>
    <button class="topic-btn" onclick="selectTopic('cube')">Cube</button>
    <button class="topic-btn" onclick="selectTopic('percent')">Percent</button>
    <button class="topic-btn" onclick="selectTopic('bodmas')">BODMAS</button>
    <button class="topic-btn" onclick="selectTopic('mixed')">Mixed</button>
  </div>
  <button onclick="showLevelMap()" class="mt-4 bg-slate-700 px-6 py-2 rounded-lg">
    Continue
  </button>
</section>

<!-- LEVEL MAP -->
<section id="level-map" class="hidden w-full max-w-md text-center">
  <h2 class="text-lg mb-3">Select Level</h2>
  <div id="levels-container" class="grid grid-cols-5 gap-3 mb-4"></div>
  <button onclick="goDashboard()" class="text-slate-400 text-sm">‚Üê Back</button>
</section>

<!-- ================= GAME SCREEN ================= -->
<section id="game-screen" class="hidden w-full max-w-xl">

  <div class="flex justify-between items-center mb-3">
    <div>
      <div id="mode-label" class="text-xs text-slate-400"></div>
      <div id="topic-label" class="text-sm font-semibold"></div>
    </div>
    <button onclick="quitGame()" class="text-rose-400 text-sm">Quit</button>
  </div>

  <!-- TIMER -->
  <div class="flex justify-center mb-3">
    <div class="w-14 h-14 relative">
      <svg class="-rotate-90" width="56" height="56">
        <circle cx="28" cy="28" r="24" stroke="#334155" stroke-width="6" fill="none"/>
        <circle id="timer-circle" cx="28" cy="28" r="24"
          stroke="#22c55e" stroke-width="6" fill="none"
          stroke-dasharray="150" stroke-dashoffset="0"/>
      </svg>
      <div id="timer-text"
           class="absolute inset-0 flex items-center justify-center text-sm font-bold"></div>
    </div>
  </div>

  <!-- QUESTION CARD -->
  <div class="bg-slate-800 rounded-2xl p-6 text-center">
    <div id="question" class="text-3xl font-bold mb-5"></div>
    <input id="answer"
      inputmode="numeric"
      class="bg-slate-900 border border-slate-600 p-3 text-xl text-center w-40 rounded-lg"
      oninput="checkAnswer()" />
  </div>

  <div id="score" class="text-center text-slate-400 mt-3"></div>
</section>

<!-- GAME OVER -->
<section id="game-over-screen" class="hidden text-center">
  <h2 class="text-xl mb-3">Session Ended</h2>
  <p id="final-score"></p>
  <button onclick="goDashboard()" class="mt-4 bg-indigo-500 px-6 py-2 rounded-lg">
    Dashboard
  </button>
</section>

<!-- LEADERBOARD -->
<section id="leaderboard-screen" class="hidden w-full max-w-md text-center">
  <h2 class="text-lg mb-3">Leaderboard</h2>
  <ul id="leaderboard-list" class="space-y-2"></ul>
  <button onclick="goDashboard()" class="text-slate-400 mt-3">‚Üê Back</button>
</section>

</main>

<!-- ================= FOOTER ================= -->
<footer class="bg-slate-950 border-t border-slate-800 text-center text-xs text-slate-400 py-4 space-y-1">
  <div>
    Designed & Built by <span class="font-semibold text-white">Suraj Srivastav</span>
  </div>
  <div>
    GitHub:
    <a href="https://www.github.com/surajsri23" target="_blank"
       class="text-indigo-400 hover:underline">
      github.com/surajsri23
    </a>
  </div>
</footer>

<style>
.topic-btn{
  background:#334155;
  padding:12px;
  border-radius:10px;
}
.topic-btn.active{
  background:#22c55e;
  color:#020617;
  font-weight:600;
}
</style>

<script src="/static/js/app.js"></script>
</body>
</html>
